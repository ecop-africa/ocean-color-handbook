

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>4.7. Data retrieval &#8212; A Hands-On Introduction to Using Python in Oceanic Colour Studies</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapter3/dataretrieval';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Working with Map Projections in Python" href="../chapter4/intro.html" />
    <link rel="prev" title="4.6. Overview of data products in ocean colour" href="dataproducts.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to Hands-On Introduction to Using Python in Oceanic Colour Studies
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../preface/intro.html">1. Preface</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../preface/howto.html">1.1. How to navigate this book</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface/structure.html">1.2. Structure of the book</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface/acknowledgements.html">1.3. Acknowledgements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface/authors.html">1.4. About the Authors</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter1/intro.html">2. Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter1/applications.html">2.2. Ocean colour remote sensing and its application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1/objective.html">2.3. Overall objective</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1/learnoutcomes.html">2.4. Outline and learning outcomes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter1/references.html">2.5. References</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter2/intro.html">3. A Brief Introduction to Python</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/pyenv.html">3.2. Python Working Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/pysyntax.html">3.3. Language Structures and Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/ocmodules.html">3.4. Modules Relevant to Ocean Colour Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/dataimport.html">3.5. Data Input/Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/datavis.html">3.6. Data Visualisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/summary.html">3.7. Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter2/references.html">3.8. References</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="intro.html">4. Introduction to Ocean Colour</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ocrs.html">4.5. Ocean colour and remote sensing</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataproducts.html">4.6. Overview of data products in ocean colour</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">4.7. Data retrieval</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter4/intro.html">5. Working with Map Projections in Python</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter4/definitions.html">5.4. Definitions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter5/intro.html">6. Data Analysis in Python</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter5/swathreproj.html">6.4. Swath Reprojection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter5/timeanalysis.html">6.5. Temporal Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter5/spaceanalysis.html">6.6. Spatial Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter5/outputs.html">6.7. Saving Output</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/intro.html">7. Case studies</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tutorial1.html">7.3. Content with notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tutorial2.html">7.4. Content with notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tutorial3.html">7.5. Content with notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tutorial4.html">7.6. Content with notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tutorial5.html">7.7. Content with notebooks</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ecop-cbm/ocean-color-handbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ecop-cbm/ocean-color-handbook/issues/new?title=Issue%20on%20page%20%2Fchapter3/dataretrieval.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapter3/dataretrieval.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data retrieval</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nasa-oceancolor-web">4.7.1. NASA OceanColor Web</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-wget-on-windows">4.7.2. Setting up Wget on Windows</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-and-download">4.7.3. File Search and Download</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-api">4.7.3.1. File Search API</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-with-cli">4.7.3.2. File Search with CLI</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-with-python">4.7.3.3. File Search with Python</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-browsing-ordering-and-download">4.7.4. File Browsing, ordering and download</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-level-1-2-browser">4.7.4.1. The Level 1&amp;2 Browser</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earthdata-search-tool">4.7.5. Earthdata Search Tool</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cmr-search">4.7.6. CMR search</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <!-- @format -->
<p><strong>Authors:</strong> Brishan Kalyan, Levis Sirikwa, Eligio Maure</p>
<section class="tex2jax_ignore mathjax_ignore" id="data-retrieval">
<h1><span class="section-number">4.7. </span>Data retrieval<a class="headerlink" href="#data-retrieval" title="Permalink to this heading">#</a></h1>
<section id="nasa-oceancolor-web">
<h2><span class="section-number">4.7.1. </span><a class="reference external" href="https://oceancolor.gsfc.nasa.gov/">NASA OceanColor Web</a><a class="headerlink" href="#nasa-oceancolor-web" title="Permalink to this heading">#</a></h2>
<p>As mentioned above, NASA provides different
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/data/download_methods/">Search and Download Methods</a>
(accessed on 20 November 2022) detailed in their website. We will provide a few
examples of practical ways to search and download the data based on the need.</p>
</section>
<section id="setting-up-wget-on-windows">
<h2><span class="section-number">4.7.2. </span>Setting up Wget on Windows<a class="headerlink" href="#setting-up-wget-on-windows" title="Permalink to this heading">#</a></h2>
<p>Windows binaries for Wget are available from this
<a class="reference external" href="https://eternallybored.org/misc/wget/">link</a>.</p>
<figure class="align-left" id="fig311">
<img alt="../_images/figure311.png" src="../_images/figure311.png" />
<figcaption>
<p><span class="caption-number">Fig. 4.11 </span><span class="caption-text">The login credential information that should be in the .netrc file in your home directory. The .netrc and .urs_cookies files in the home directory, you need to ensure that the ‘file type’ of the .netrc file is “NETRC file” and not a text file.</span><a class="headerlink" href="#fig311" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="file-search-and-download">
<span id="file-search"></span><h2><span class="section-number">4.7.3. </span>File Search and Download<a class="headerlink" href="#file-search-and-download" title="Permalink to this heading">#</a></h2>
<section id="file-search-api">
<h3><span class="section-number">4.7.3.1. </span>File Search API<a class="headerlink" href="#file-search-api" title="Permalink to this heading">#</a></h3>
<p>The search API locates publicly available data and returns a list of filenames
matching the search criteria. The file search API is practical for data with
levels higher than level 2 as most API outputs are level 3 data provided as
global images, this is due to the file search API not being able to filter by
geolocation. This capability is provided by the
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/cgi/browse.pl?">Level 1&amp;2 Browser</a> or
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/l3/">Level 3 Browser</a> (discussed next). This
<a class="reference external" href="https://oceandata.sci.gsfc.nasa.gov/api/file_search_help/">help page</a> provides
detailed information of the search options that can be passed to the API.</p>
<p>The API also offers file search via command line interface (CLI) or programming
language like Python. Below we introduce two examples of data searching through
CLI and Python with following options:</p>
<ul class="simple">
<li><p>MODIS-Aqua (sensor_id=7 or sensor=aqua)</p></li>
<li><p>Level-3 binned data (dtid=1042 or dtype=L3b)</p></li>
<li><p>Chlorophyll product suite (suite_id=CHL)</p></li>
<li><p>Date range: start (sdate=2021-10-01 00:00:00)</p></li>
<li><p>Date range: end (edate=2021-10-31 23:59:59)</p></li>
<li><p>8-Day composite period (period=8D)</p></li>
<li><p>Non-extracted products (subType=1)</p></li>
<li><p>Include full url in search result (addurl=1)</p></li>
<li><p>Return results as a test file listing (results_as_file=1)</p></li>
</ul>
</section>
<section id="file-search-with-cli">
<h3><span class="section-number">4.7.3.2. </span>File Search with CLI<a class="headerlink" href="#file-search-with-cli" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="o">-</span><span class="n">q</span> <span class="o">--</span><span class="n">post</span><span class="o">-</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;results_as_file=1&amp;sensor_id=7&amp;dtid=1042&amp;suite_id=CHL&amp;sdate=2022-10-01 00:00:00&amp;edate=2022-10-31 23:59:59&amp;subType=1&amp;addurl=1&amp;period=8D&quot;</span> <span class="o">-</span><span class="n">O</span> <span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">file_search</span>
</pre></div>
</div>
<p>The above command can be run in the CLI with
<a class="reference external" href="https://www.gnu.org/software/wget/">GNU Wget</a> installed. Wget comes
pre-installed in most Unix systems. But in Windows we might need to manually
install it. The post search returns six getfile URLs of MODIS-Aqua 8-day CHL
data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">A20212812021288</span><span class="o">.</span><span class="n">L3b_8D_CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">A20212892021296</span><span class="o">.</span><span class="n">L3b_8D_CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">A20212972021304</span><span class="o">.</span><span class="n">L3b_8D_CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">AQUA_MODIS</span><span class="mf">.20211008_20211015</span><span class="o">.</span><span class="n">L3b</span><span class="mf">.8</span><span class="n">D</span><span class="o">.</span><span class="n">CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">AQUA_MODIS</span><span class="mf">.20211016_20211023</span><span class="o">.</span><span class="n">L3b</span><span class="mf">.8</span><span class="n">D</span><span class="o">.</span><span class="n">CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">AQUA_MODIS</span><span class="mf">.20211024_20211031</span><span class="o">.</span><span class="n">L3b</span><span class="mf">.8</span><span class="n">D</span><span class="o">.</span><span class="n">CHL</span><span class="o">.</span><span class="n">nc</span>
</pre></div>
</div>
<p>Note the different filenames. As of October 2022, the OB.DAAC was performing
data reprocessing (R2022) of all its satellite missions including non-NASA
missions that are supported. This reprocessing also introduces a change in the
file
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/docs/filenaming-convention/">naming convention</a>.
So the URL with filename
<a class="reference external" href="https://oceandata.sci.gsfc.nasa.gov/cgi/getfile/A20212812021288.L3b_8D_CHL.nc">A20212812021288.L3b_8D_CHL.nc</a>
corresponds to past naming convention while
<a class="reference external" href="https://oceandata.sci.gsfc.nasa.gov/cgi/getfile/AQUA_MODIS.20211008_20211015.L3b.8D.CHL.nc">AQUA_MODIS.20211008_20211015.L3b.8D.CHL.nc</a>
represents the newly introduced naming convention that, among others, replaced
“A” with “AQUA_MODIS” at the beginning of the filename. So as of now, NASA still
keeps both data files with the current and previous naming convention.</p>
<p>As for the output of the <code class="docutils literal notranslate"><span class="pre">Wget</span></code>, the information printed in the CLI can be
redirected to a file. When doing so, the output of the CLI is saved in the
indicated filename. This can be achieved by adding the “&gt;” sign followed by the
filename at the end of the <code class="docutils literal notranslate"><span class="pre">Wget</span></code> command as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="o">-</span><span class="n">q</span> <span class="o">--</span><span class="n">post</span><span class="o">-</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;results_as_file=1&amp;sensor_id=7&amp;dtid=1042&amp;suite_id=CHL&amp;sdate=2022-10-01 00:00:00&amp;edate=2022-10-31 23:59:59&amp;subType=1&amp;addurl=1&amp;period=8D&quot;</span> <span class="o">-</span><span class="n">O</span> <span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">file_search</span> <span class="o">&gt;</span> <span class="n">manifest</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The obtained URLs can be downloaded one by one which is feasible for a few URLs.
In case of a large number of URLs manual download can easily become
overwhelming. Wget can again come to the rescue as we will discuss shortly.</p>
<p>Prior to using <code class="docutils literal notranslate"><span class="pre">Wget</span></code> for the downloads, it is necessary to configure the
username and password for authentication following the recommended
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/data/download_methods/">method</a> of using a
<code class="docutils literal notranslate"><span class="pre">.netrc</span></code> (<a class="reference internal" href="#fig311"><span class="std std-numref">Fig. 4.11</span></a>). This username and password is the same used for
registration for the NASA and JAXA portals. This .netrc file is saved in the
home directory with information of your credentials associated with a given
host. The same file can be used to save as many different credentials as needed.
Further instructions are provided in the
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/data/download_methods/">Search and Download Methods</a>.
Once the .netrc file is created we can proceed to download the data by issuing
the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Q: What is the command that suppose to go here?
</pre></div>
</div>
<p>The above command also assumes that the .urs_cookies file exists in the home
directory (~/).</p>
</section>
<section id="file-search-with-python">
<h3><span class="section-number">4.7.3.3. </span>File Search with Python<a class="headerlink" href="#file-search-with-python" title="Permalink to this heading">#</a></h3>
<p>Besides using <code class="docutils literal notranslate"><span class="pre">Wget</span></code> to search and download, the Python
<a class="reference external" href="https://requests.readthedocs.io/en/latest/"><code class="docutils literal notranslate"><span class="pre">requests</span></code></a> package can also be
used for the same end. The steps are as follows:</p>
<ol class="arabic simple">
<li><p>In a <code class="docutils literal notranslate"><span class="pre">iPython</span></code> session, <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">requests</span></code> to post requests on the web</p></li>
<li><p>Define the search string as in the above <code class="docutils literal notranslate"><span class="pre">Wget</span></code> example</p></li>
<li><p>Issue a <code class="docutils literal notranslate"><span class="pre">.post()</span></code> operation that returns the information requested</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;https://oceandata.sci.gsfc.nasa.gov/api/file_search?&#39;</span> \
        <span class="s1">&#39;sensor=aqua&#39;</span> \
        <span class="s1">&#39;&amp;dtype=L3b&#39;</span> \
        <span class="s1">&#39;&amp;suite_id=CHL&#39;</span> \
        <span class="s1">&#39;&amp;sdate=2021-10-01 00:00:00&#39;</span> \
        <span class="s1">&#39;&amp;edate=2021-10-31 23:59:59&#39;</span> \
        <span class="s1">&#39;&amp;subType=1&#39;</span> \
        <span class="s1">&#39;&amp;addurl=1&#39;</span> \
        <span class="s1">&#39;&amp;period=8D&#39;</span> \
        <span class="s1">&#39;&amp;format=txt&#39;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
<p>After posting our request to OB.DAAC, we get a <code class="docutils literal notranslate"><span class="pre">Response</span></code> object and we assign
this object to a variable <code class="docutils literal notranslate"><span class="pre">r</span></code>. The response object contains a lot of information
associated with our post. Since we asked the OB.DAAC to return the information
in the form of text (format=txt), we can inspect the text object contained in
<code class="docutils literal notranslate"><span class="pre">r</span></code>. By doing so, we obtain the information of the returned URLs as in the case
of <code class="docutils literal notranslate"><span class="pre">Wget</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">A20212812021288</span><span class="o">.</span><span class="n">L3b_8D_CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">A20212892021296</span><span class="o">.</span><span class="n">L3b_8D_CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">A20212972021304</span><span class="o">.</span><span class="n">L3b_8D_CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">AQUA_MODIS</span><span class="mf">.20211008_20211015</span><span class="o">.</span><span class="n">L3b</span><span class="mf">.8</span><span class="n">D</span><span class="o">.</span><span class="n">CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">AQUA_MODIS</span><span class="mf">.20211016_20211023</span><span class="o">.</span><span class="n">L3b</span><span class="mf">.8</span><span class="n">D</span><span class="o">.</span><span class="n">CHL</span><span class="o">.</span><span class="n">nc</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">oceandata</span><span class="o">.</span><span class="n">sci</span><span class="o">.</span><span class="n">gsfc</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">cgi</span><span class="o">/</span><span class="n">getfile</span><span class="o">/</span><span class="n">AQUA_MODIS</span><span class="mf">.20211024_20211031</span><span class="o">.</span><span class="n">L3b</span><span class="mf">.8</span><span class="n">D</span><span class="o">.</span><span class="n">CHL</span><span class="o">.</span><span class="n">nc</span>
</pre></div>
</div>
<p>In the above search we posted a query string with search parameters concatenated
by the <code class="docutils literal notranslate"><span class="pre">&quot;&amp;&quot;</span></code> character. In requests these options or search parameters can also
be passed in the form of a Python dictionary of <code class="docutils literal notranslate"><span class="pre">key=value</span></code> pairs in which case
the result will also be the same as in posting a single query string.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://oceandata.sci.gsfc.nasa.gov/api/file_search&#39;</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="s1">&#39;aqua&#39;</span><span class="p">,</span> <span class="s1">&#39;dtype&#39;</span><span class="p">:</span> <span class="s1">&#39;L3b&#39;</span><span class="p">,</span> <span class="s1">&#39;suite_id&#39;</span><span class="p">:</span> <span class="s1">&#39;CHL&#39;</span><span class="p">,</span>
   <span class="s1">&#39;sdate&#39;</span><span class="p">:</span> <span class="s1">&#39;2021-10-01 00:00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;edate&#39;</span><span class="p">:</span> <span class="s1">&#39;2021-10-31 23:59:59&#39;</span><span class="p">,</span>
   <span class="s1">&#39;subType&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;addurl&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="s1">&#39;8D&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;txt&#39;</span>
<span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that instead of using numbers for the <code class="docutils literal notranslate"><span class="pre">sensor_id</span></code> and <code class="docutils literal notranslate"><span class="pre">dtid</span></code> these keys
were replaced by the corresponding <code class="docutils literal notranslate"><span class="pre">sensor</span></code> and <code class="docutils literal notranslate"><span class="pre">dtype</span></code> keys, and their
corresponding values as discussed in the
<a class="reference external" href="https://oceancolor.gsfc.nasa.gov/data/download_methods/">Search and Download Methods</a>
page of the OceanColor Web.</p>
<p>To download the data we can issue a <code class="docutils literal notranslate"><span class="pre">.get()</span></code> operation with each of the URLs
obtained in the previous part. The Python built-in <code class="docutils literal notranslate"><span class="pre">Path</span></code> module from
<a class="reference external" href="https://docs.python.org/3/library/pathlib.html"><code class="docutils literal notranslate"><span class="pre">pathlib</span></code></a> library, an
object-oriented module for filesystem paths, can be used to extract the filename
from the URL. This module makes it easy to seamlessly handle filesystem paths
without the need to worry about subtle differences like forward or backward
slash in Unix or Windows operating systems. Beyond that, the many use cases are
discussed on the dedicated
<a class="reference external" href="https://docs.python.org/3/library/pathlib.html">documentation</a> page.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">urls</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
<span class="n">file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">urls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.splitlines()</span></code> method splits a string into a list of strings. The line
splitting occurs at the line breaks defined by the newline character <code class="docutils literal notranslate"><span class="pre">'\n'</span></code>. The
<code class="docutils literal notranslate"><span class="pre">-1</span></code> indicates that we are selecting the last URL in the list. We then use
<code class="docutils literal notranslate"><span class="pre">.get()</span></code> to request the data of this file from the OB.DAAC.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">urls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;passwd&#39;</span><span class="p">))</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
     <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
         <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
<p>Following the download request, we open a local file with the same name as the
provider filename. We use the context the manager with which makes sure that the
file is gracefully closed after the download operation is completed. The
<code class="docutils literal notranslate"><span class="pre">requests</span></code> module is also capable of automatically retrieving the credentials
from the <code class="docutils literal notranslate"><span class="pre">.netrc</span></code> file if it exists. This behaviour can be overridden by
providing the credentials as a tuple of <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code>. The
<code class="docutils literal notranslate"><span class="pre">.iter_content()</span></code> iterates through the received data until the data is totally
consumed. The <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> can be freely adjusted to another value that best
fits the use cases.</p>
</section>
</section>
<section id="file-browsing-ordering-and-download">
<h2><span class="section-number">4.7.4. </span>File Browsing, ordering and download<a class="headerlink" href="#file-browsing-ordering-and-download" title="Permalink to this heading">#</a></h2>
<section id="the-level-1-2-browser">
<h3><span class="section-number">4.7.4.1. </span>The <a class="reference external" href="https://oceancolor.gsfc.nasa.gov/cgi/browse.pl?">Level 1&amp;2 Browser</a><a class="headerlink" href="#the-level-1-2-browser" title="Permalink to this heading">#</a></h3>
<p>The figure below (<a class="reference internal" href="#fig312"><span class="std std-numref">Figure 4.12</span></a>) shows the top level of the
ocean colour level 1 and 2 browser. This page allows users to specify their
search criteria and launch the search for level 1 and 2 scenes. In the example
that follows we discuss the discovery of level 2 scenes. Prior to that, we
briefly introduce the various browse options that this page offers.</p>
<figure class="align-left" id="fig312">
<img alt="../_images/figure312.png" src="../_images/figure312.png" />
<figcaption>
<p><span class="caption-number">Fig. 4.12 </span><span class="caption-text">NASA Level 1&amp;2 Browser.</span><a class="headerlink" href="#fig312" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Parameter selection</strong></p></li>
</ul>
<p>Allow the selection of the search and display parameter in the global map. The
selected parameter is annotated below the global map. With these buttons we can
choose:</p>
<ol class="arabic simple">
<li><p>TC - quasi-True-Colour imagery</p></li>
<li><p>CHL - view chlorophyll data and search the suite of ocean colour parameters</p></li>
<li><p>SST - sea surface temperature data, either daytime or nighttime or both</p></li>
</ol>
<ul class="simple">
<li><p><strong>Sensor selection</strong></p></li>
</ul>
<p>Multiple options are possible. For sensors like SeaWiFS, MERIS, Sentinel 3A and
3B data types are also selectable. These options are GAC (4 km): Global Area
Coverage and MLAC (1 km): Merged-Local Area Coverage for SeaWiFS, RR (1.2 km):
Reduced Resolution and FRS (300 m): Full Resolution for MERIS, ERR (1.2 km):
Reduced Resolution and EFR (300 m): Full Resolution for Sentinel 3A and 3B.</p>
<ul class="simple">
<li><p><strong>Search radius</strong></p></li>
</ul>
<p>Defines the buffer region around a given geographical (latitude/longitude) point
of interest (POI) selected on the map. Scenes covering the portion of Earth’s
surface within this radius in kilometres will be selected.</p>
<ul class="simple">
<li><p><strong>Swath coverage</strong></p></li>
</ul>
<p>Defines the fraction of the area of interest (AOI) that should be contained in
any given swath. This can be useful in selecting scenes that are centred (across
track) on a particular location. By choosing “all”, for instance, and selecting
a radius of 1500 kilometres to MLAC scenes that are centred (in the across track
sense) on the AOI can return scenes centred on the POI.</p>
<ul class="simple">
<li><p><strong>Temporal range</strong></p></li>
</ul>
<p>One or more time intervals can be selected in the advanced options of this
hyperlink text on top of the global map. The time period indicated on the global
map corresponds to the composite period of the global map product being shown.</p>
<ul class="simple">
<li><p><strong>Bounding box</strong></p></li>
</ul>
<p>We can define the AOI based on POI as in the case of the Search radius by
entering a single latitude (in the “N:” or “S:” box) or a single longitude (in
the “W:” or the “:E” box). The AOI would require entering all four values for
the bounding box. Latitudes and longitudes are entered in decimal degrees,
positive east and north, negative west and south.</p>
<ul class="simple">
<li><p><strong>In-situ matchups</strong></p></li>
</ul>
<p>Return scenes with coincident in-situ matchups in the AOI. The matchup location
will be displayed in the resultant browse scenes.</p>
<ul class="simple">
<li><p><strong>Reconfigure</strong></p></li>
</ul>
<p>While some options automatically reconfigure (refresh) the browser, for options
like sensor or AOI, for instance, after all desired options are set, we need to
push the reconfigure button to refresh the browser to the new selected/entered
parameters.</p>
<ul class="simple">
<li><p><strong>Find swaths</strong></p></li>
</ul>
<p>Once all options are entered and the browser has been refreshed, we can proceed
with the find swaths button. This will move to a different page that displays
the results of the scenes found based on our search criteria. Clicking on this
button without specifying any geographical constraints will return all available
scenes for the whole world for the current time period.</p>
<p>We find the scenes for the search example with options shown in the
<a class="reference internal" href="#fig312"><span class="std std-numref">Figure 4.12</span></a> above, MODIS-Aqua and VIIRS-SNPP for the
sensors, CHL (OC) for the parameter, May 2022 for the temporal range, and
Mozambique channel for the AOI. The result of the find swaths is shown in the
<a class="reference internal" href="#fig313"><span class="std std-numref">Figure 4.13</span></a> below.</p>
<figure class="align-left" id="fig313">
<img alt="../_images/figure313.png" src="../_images/figure313.png" />
<figcaption>
<p><span class="caption-number">Fig. 4.13 </span><span class="caption-text">Data ordering.</span><a class="headerlink" href="#fig313" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Data ordering</strong></p></li>
</ul>
<p>We can then proceed to order the results of our search. We click the “Order
Data” to order the results of this search. Note that the order data button will
prompt the Earthdata login, meaning, we need to have valid Earthdata credentials
as discussed above. Once order data is pushed, in the next page we select
whether we want the data to be extracted or not. Most users will want the data
to be extracted. Next are the data products, level 0, 1, or 2. Level 2 includes
additional select variables. If only level 2 is selected and the variables are
left blank, then all of the variables will be included in the order. We can also
select weather to include SST. Finally, the level of email notice can be
decided. Once all options are set, we hit the “Review order”
(<a class="reference internal" href="#fig314"><span class="std std-numref">Figure 4.14</span></a>) to refresh the order based on the
refinements made in this page. If everything on the new refresh page is as
expected, then we click the “Submit order” button and wait for further
instructions from the system.</p>
<figure class="align-left" id="fig314">
<img alt="../_images/figure314.png" src="../_images/figure314.png" />
<figcaption>
<p><span class="caption-number">Fig. 4.14 </span><span class="caption-text">Data order review.</span><a class="headerlink" href="#fig314" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The final step after the order review is the “Submit order” button. Submitted
orders need to be confirmed prior to their staging. This can be done through
email confirmation or on the order manager page. It is possible to see whether
the order is pending confirmation, cancelled, completed or being staged. Orders
can also be extended if the expiration date is reached prior to a complete
download.</p>
<p>The status of the order allows one to monitor the different stages of the order
from pending, to scheduled, to staged depending on whether the order is awaiting
a confirmation, has been confirmed, or the staging has been completed. Once the
staging is completed, the manifest file can be downloaded and passed to <code class="docutils literal notranslate"><span class="pre">Wget</span></code>
for download as discussed in the <a class="reference internal" href="#file-search"><span class="std std-numref">Section 4.7.3</span></a> above.</p>
</section>
</section>
<section id="earthdata-search-tool">
<h2><span class="section-number">4.7.5. </span>Earthdata Search Tool<a class="headerlink" href="#earthdata-search-tool" title="Permalink to this heading">#</a></h2>
</section>
<section id="cmr-search">
<h2><span class="section-number">4.7.6. </span><a class="reference external" href="https://cmr.earthdata.nasa.gov/search">CMR search</a><a class="headerlink" href="#cmr-search" title="Permalink to this heading">#</a></h2>
<p>The OB.DAAC used to host and distribute most of NASA’s OC data. As discussed in
the OB.DAAC homepage, a significant amount of their data are now hosted in the
EOSDIS <a class="reference external" href="https://search.earthdata.nasa.gov/">Earthdata Search tool</a>. Similar to
the search options discussed above, data can be discovered using this tool but
Earthdata credentials are necessary to download the data. This tool is part of
NASA’s Common Metadata Repository (CMR) – a high-performance, high-quality,
continuously evolving metadata system that catalogues all data and service
metadata records for NASA’s Earth Observing System Data and Information System
(EOSDIS) system and not just the OB.DAAC data. This means with a single
Earthdata user account we get access to the vast repository of NASA’s EO data.
While the Earthdata Search Tool provides a browser interface, we found the CLI
to offer a powerful way to quickly search and find the information one requires.</p>
<p>The documentation about CMR and <a class="reference external" href="https://wiki.earthdata.nasa.gov/">UMM</a> (Unified
Metadata Model) is extensive and finding the right information at first can be a
daunting experience. So here we briefly introduce the concepts most relevant to
obtaining OC data. The UMM is used as a bridge to map between each of the
CMR-supported metadata standards. A number of different objects require
descriptive metadata that is modelled using a corresponding UMM profile. For
example, a collection (or dataset level) object is modelled using the UMM-C
(Collection) profile, and granule (or file level) objects are modelled using the
UMM-G (Granule) profile. The term <code class="docutils literal notranslate"><span class="pre">concept-id</span></code> can be associated with both a
collection or a granule and we can search the data based on that information. We
find the <code class="docutils literal notranslate"><span class="pre">concept-id</span></code> along with a data provider option to be a powerful and
quick way to search and retrieve data.</p>
<p>To find collections from the OB.DAAC with processing level 2 that contain
granules we can issue the command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://cmr.earthdata.nasa.gov/search/collections.umm_json&#39;</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;provider&#39;</span><span class="p">:</span> <span class="s1">&#39;OB_DAAC&#39;</span><span class="p">,</span>
    <span class="s1">&#39;has_granules&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">,</span>
    <span class="s1">&#39;processing_level_id&#39;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s1">&#39;hits&#39;</span><span class="p">:</span> <span class="mi">397</span><span class="p">,</span> <span class="s1">&#39;took&#39;</span><span class="p">:</span> <span class="mi">328</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">}}</span>
</pre></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapter3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="dataproducts.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">4.6. </span>Overview of data products in ocean colour</p>
      </div>
    </a>
    <a class="right-next"
       href="../chapter4/intro.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5. </span>Working with Map Projections in Python</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nasa-oceancolor-web">4.7.1. NASA OceanColor Web</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-wget-on-windows">4.7.2. Setting up Wget on Windows</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-and-download">4.7.3. File Search and Download</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-api">4.7.3.1. File Search API</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-with-cli">4.7.3.2. File Search with CLI</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-search-with-python">4.7.3.3. File Search with Python</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-browsing-ordering-and-download">4.7.4. File Browsing, ordering and download</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-level-1-2-browser">4.7.4.1. The Level 1&amp;2 Browser</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earthdata-search-tool">4.7.5. Earthdata Search Tool</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cmr-search">4.7.6. CMR search</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By ECOP Africa
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div> <a href="http://creativecommons.org/licenses/by/4.0/"><img src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a>    <a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://camo.githubusercontent.com/9b9ea65d95c9ef878afa1987df65731d47681336/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f736561626f726e2e737667"></a>    The contents of this repository are shared under the <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.    Software elements are additionally licensed under the <a href="https://opensource.org/licenses/BSD-3-Clause">BSD (3-Clause) License</a>.</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>